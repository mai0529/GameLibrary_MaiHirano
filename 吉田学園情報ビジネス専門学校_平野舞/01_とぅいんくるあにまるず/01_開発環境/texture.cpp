//---------------------------------------------------------------------------------
//
// テクスチャ[texture.cpp]
// Author : 平野舞
//
//---------------------------------------------------------------------------------

//---------------------------------------------------------------------------------
// インクルードファイル
//---------------------------------------------------------------------------------
#include "application.h"	// アプリケーション
#include "renderer.h"		// レンダリング
#include "texture.h"		// テクスチャ

//---------------------------------------------------------------------------------
//	コンストラクタ
//---------------------------------------------------------------------------------
CRsTexture::CRsTexture()
	:m_pTexture(nullptr), m_HashCode(0)
{

}

//---------------------------------------------------------------------------------
//	デストラクタ
//---------------------------------------------------------------------------------
CRsTexture::~CRsTexture()
{

}

//---------------------------------------------------------------------------------
//	テクスチャの設定
//---------------------------------------------------------------------------------
HRESULT CRsTexture::SetTexture()
{
	// デバイスの取得
	LPDIRECT3DDEVICE9 pDevice = CApplication::GetRenderer()->GetDevice();

	// テクスチャの読み込み
	D3DXCreateTextureFromFile(pDevice,
		&m_cFileName[0],
		&m_pTexture);

	return S_OK;
}

//---------------------------------------------------------------------------------
// テクスチャ情報の取得
//---------------------------------------------------------------------------------
LPDIRECT3DTEXTURE9 CRsTexture::GetTexture()
{
	return m_pTexture;
}

//---------------------------------------------------------------------------------
//テクスチャ名の読み込み
//---------------------------------------------------------------------------------
void CRsTexture::LoadFile(char* cFileName)
{
	m_cFileName = cFileName;
}

//---------------------------------------------------------------------------------
// テクスチャの破棄
//---------------------------------------------------------------------------------
void CRsTexture::Uninit()
{
	if (m_pTexture != nullptr)
	{// nullptrではなかったら
		m_pTexture->Release();
		m_pTexture = nullptr;
	}
}

//---------------------------------------------------------------------------------
// ハッシュ値の設定
//---------------------------------------------------------------------------------
void CRsTexture::SetHashCode(unsigned int HashCode)
{
	m_HashCode = HashCode;
}

//---------------------------------------------------------------------------------
// ハッシュ値の取得
//---------------------------------------------------------------------------------
unsigned int CRsTexture::GetHashCode()
{
	return m_HashCode;
}