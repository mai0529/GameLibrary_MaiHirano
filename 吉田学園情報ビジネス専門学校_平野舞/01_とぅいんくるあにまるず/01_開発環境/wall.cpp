//-----------------------------------------------------------------------------------------------
//
// 壁の処理[wall.cpp]
// Author : 平野舞
//
//-----------------------------------------------------------------------------------------------

//-----------------------------------------------------------------------------------------------
// インクルードファイル
//-----------------------------------------------------------------------------------------------
#include "wall.h"				// 壁
#include "application.h"		// アプリケーション
#include "renderer.h"			// レンダリング
#include "TextureFileName.h"	// 画像のファイル名

//-----------------------------------------------------------------------------------------------
// 定数宣言
//-----------------------------------------------------------------------------------------------
// 幅
static const float WALL_WIDTH = 100.0f;

//-----------------------------------------------------------------------------------------------
// 静的メンバ変数宣言
//-----------------------------------------------------------------------------------------------
// 壁のポインタ
CWall* CWall::m_pWall = nullptr;

//-----------------------------------------------------------------------------------------------
// コンストラクタ
//-----------------------------------------------------------------------------------------------
CWall::CWall()
{

}

//-----------------------------------------------------------------------------------------------
// デストラクタ
//-----------------------------------------------------------------------------------------------
CWall::~CWall()
{

}

//-----------------------------------------------------------------------------------------------
// インスタンスの生成
//-----------------------------------------------------------------------------------------------
void CWall::CreateInstance()
{
	if (m_pWall == nullptr)
	{// nullptrだったら
		m_pWall = new CWall;
	}
}

//-----------------------------------------------------------------------------------------------
// インスタンスの取得
//-----------------------------------------------------------------------------------------------
CWall* CWall::GetInstance()
{
	if (m_pWall != nullptr)
	{// nullptrではなかったら
		return m_pWall;
	}

	return nullptr;
}

//-----------------------------------------------------------------------------------------------
// 初期化
//
// const D3DXVECTOR3& pos → 最初に表示する座標位置
//-----------------------------------------------------------------------------------------------
HRESULT CWall::Init(const D3DXVECTOR3& pos)
{
	// テクスチャの設定
	CObject2D::LoadTexture(TEX_WALL);
	// サイズ
	CObject2D::SetSize(D3DXVECTOR3(WALL_WIDTH,(float)CRenderer::SCREEN_HEIGHT, 0.0f));
	//オブジェクトタイプを設定
	SetObjectType(EOBJECT_TYPE::EOBJECT_TYPE_WALL);
	// オブジェクトの親を設定
	SetObjectParent(CObject::EOBJECT_PARENT_GAME);

	// 初期化
	CObject2D::Init(pos);
	// 色の設定
	CObject2D::SetColor(D3DXCOLOR(1.0f, 1.0f , 1.0f, 1.0f));

	return S_OK;
}

//-----------------------------------------------------------------------------------------------
// 終了
//-----------------------------------------------------------------------------------------------s
void CWall::Uninit()
{
	CObject2D::Uninit();

	if (m_pWall != nullptr)
	{
		// nullptrにする
		m_pWall = nullptr;
	}
}

//-----------------------------------------------------------------------------------------------
// 更新
//-----------------------------------------------------------------------------------------------
void CWall::Update()
{

}

//-----------------------------------------------------------------------------------------------
// 描画
//-----------------------------------------------------------------------------------------------
void CWall::Draw()
{
	CObject2D::Draw();
}